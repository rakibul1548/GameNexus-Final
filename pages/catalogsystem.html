<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egyptian Game Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* CSS Styles */
        :root {
            --primary-color: #d4af37; /* Gold */
            --secondary-color: #0c2d48; /* Dark blue */
            --accent-color: #e67e22; /* Orange */ 
            --light-color: #f8f1e5; /* Cream */
            --dark-color: #1a1a1a;
            --success-color: #27ae60;
            --egypt-blue: #103d5d;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            background-image: url('https://www.transparenttextures.com/patterns/papyrus.png');
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        header {
            background: linear-gradient(135deg, var(--egypt-blue), var(--primary-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 5px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            border-bottom: 4px solid var(--accent-color);
            position: relative;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .filters-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            background-color: rgba(255,255,255,0.9);
            border: 1px solid #ddd;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group h3 {
            margin-bottom: 10px;
            color: var(--egypt-blue);
            font-size: 1.1rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .price-range {
            width: 100%;
            accent-color: var(--primary-color);
        }

        .price-values {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
            color: var(--secondary-color);
        }

        .sorting-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background-color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            background-color: rgba(255,255,255,0.9);
        }

        .sorting-section label {
            font-weight: bold;
            margin-right: 10px;
            color: var(--egypt-blue);
        }

        .sorting-section select {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .game-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #eee;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .game-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 3px solid var(--primary-color);
        }

        .game-info {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .game-title {
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: var(--egypt-blue);
            font-weight: 600;
        }

        .game-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--secondary-color);
        }

        .game-platform {
            display: inline-block;
            padding: 3px 8px;
            background-color: var(--light-color);
            border-radius: 4px;
            font-size: 0.8rem;
            border: 1px solid #ddd;
        }

        .game-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .game-rating {
            color: #f1c40f;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .game-genre {
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
            margin-bottom: 15px;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 50px;
            font-size: 1.2rem;
            color: var(--secondary-color);
            background-color: white;
            border-radius: 8px;
        }

        .egyptian-tag {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--primary-color);
            color: var(--egypt-blue);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Cart Button */
        .cart-btn {
            background-color: var(--primary-color);
            color: var(--egypt-blue);
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .cart-btn:hover {
            background-color: #e6c350;
        }

        .cart-btn i {
            font-size: 1rem;
        }

        /* Cart Styles */
        .cart-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: var(--egypt-blue);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: transform 0.3s;
        }

        .cart-icon:hover {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent-color);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 350px;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            z-index: 999;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .cart-overlay.active {
            transform: translateX(0);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }

        .cart-header h2 {
            color: var(--egypt-blue);
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--secondary-color);
        }

        .cart-items {
            flex-grow: 1;
            overflow-y: auto;
        }

        .cart-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .cart-item-img {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 10px;
        }

        .cart-item-details {
            flex-grow: 1;
        }

        .cart-item-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--primary-color);
            font-weight: bold;
        }

        .remove-item {
            background: none;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            align-self: flex-start;
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid var(--primary-color);
            font-size: 1.2rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }

        .checkout-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 15px;
            transition: background-color 0.3s;
        }

        .checkout-btn:hover {
            background-color: #d35400;
        }

        .empty-cart {
            text-align: center;
            padding: 30px 0;
            color: var(--secondary-color);
        }

        /* Search Bar */
        .search-bar {
            margin-bottom: 20px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 4px;
            border: 1px solid #ddd;
            font-size: 1rem;
            padding-left: 40px;
        }

        .search-bar i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-color);
        }

        /* Wishlist Button */
        .wishlist-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(255,255,255,0.8);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #ccc;
            transition: color 0.3s;
        }

        .wishlist-btn.active {
            color: #e74c3c;
        }

        /* Game Modal */
        .game-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .game-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: white;
            width: 80%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 15px 20px;
            background-color: var(--egypt-blue);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-image {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .modal-details {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .modal-detail {
            flex: 1;
            min-width: 150px;
        }

        .modal-detail h4 {
            color: var(--egypt-blue);
            margin-bottom: 5px;
        }

        .modal-description {
            margin-top: 20px;
            line-height: 1.6;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .modal-actions button {
            flex: 1;
            padding: 12px;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .modal-add-to-cart {
            background-color: var(--primary-color);
            color: var(--egypt-blue);
            border: none;
        }

        .modal-add-to-cart:hover {
            background-color: #e6c350;
        }

        .modal-wishlist {
            background-color: white;
            border: 2px solid var(--primary-color);
            color: var(--egypt-blue);
        }

        .modal-wishlist:hover {
            background-color: #f8f1e5;
        }

        .modal-wishlist.active {
            background-color: #f8f1e5;
            border-color: #e74c3c;
            color: #e74c3c;
        }

        /* Confirmation Page */
        .confirmation-page {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .confirmation-page.active {
            display: block;
        }

        .confirmation-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .confirmation-header i {
            font-size: 4rem;
            color: var(--success-color);
            margin-bottom: 20px;
        }

        .confirmation-header h2 {
            color: var(--egypt-blue);
            margin-bottom: 10px;
        }

        .confirmation-details {
            margin-bottom: 30px;
        }

        .order-summary {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .order-summary h3 {
            color: var(--egypt-blue);
            margin-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
        }

        .order-items {
            margin-bottom: 15px;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .order-total {
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            padding-top: 10px;
            border-top: 2px solid var(--primary-color);
        }

        .customer-info {
            margin-bottom: 20px;
        }

        .customer-info h3 {
            color: var(--egypt-blue);
            margin-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
        }

        .info-row {
            display: flex;
            margin-bottom: 10px;
        }

        .info-label {
            font-weight: bold;
            width: 150px;
            color: var(--secondary-color);
        }

        .back-to-shop {
            display: block;
            text-align: center;
            background-color: var(--primary-color);
            color: var(--egypt-blue);
            padding: 12px;
            border-radius: 4px;
            font-weight: bold;
            text-decoration: none;
            transition: background-color 0.3s;
            margin-top: 20px;
        }

        .back-to-shop:hover {
            background-color: #e6c350;
        }

        @media (max-width: 768px) {
            .filters-section {
                flex-direction: column;
            }
            
            .sorting-section {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }

            .cart-overlay {
                width: 100%;
            }

            .modal-content {
                width: 95%;
            }

            .modal-body {
                flex-direction: column;
            }

            .info-row {
                flex-direction: column;
            }

            .info-label {
                width: 100%;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Store Page -->
        <div id="store-page">
            <header>
                <h1>GameNexus</h1>
                <p>A Gamers Store</p>
            </header>

            <!-- Search Bar -->
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Search for games...">
            </div>

            <div class="filters-section">
                <div class="filter-group">
                    <h3>Genre</h3>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="action" name="genre" value="Action" checked>
                            <label for="action">Action</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="adventure" name="genre" value="Adventure" checked>
                            <label for="adventure">Adventure</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="rpg" name="genre" value="RPG" checked>
                            <label for="rpg">RPG</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="racing" name="genre" value="Racing" checked>
                            <label for="racing">Racing</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="shooter" name="genre" value="Shooter" checked>
                            <label for="shooter">Shooter</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <h3>Platform</h3>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="pc" name="platform" value="PC" checked>
                            <label for="pc">PC</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="playstation" name="platform" value="PlayStation" checked>
                            <label for="playstation">PlayStation</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="xbox" name="platform" value="Xbox" checked>
                            <label for="xbox">Xbox</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <h3>Price Range</h3>
                    <input type="range" id="price-range" class="price-range" min="0" max="100" value="100">
                    <div class="price-values">
                        <span>£0</span>
                        <span>£100</span>
                    </div>
                </div>

                <div class="filter-group">
                    <h3>Origin</h3>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="egypt" name="origin" value="Egypt" checked>
                            <label for="egypt">Bangladeshi</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="international" name="origin" value="International" checked>
                            <label for="international">International</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sorting-section">
                <div>
                    <label for="sort-by">Sort by:</label>
                    <select id="sort-by">
                        <option value="popularity">Popularity</option>
                        <option value="price-asc">Price: Low to High</option>
                        <option value="price-desc">Price: High to Low</option>
                        <option value="date-desc">Release Date: Newest</option>
                        <option value="date-asc">Release Date: Oldest</option>
                        <option value="rating-desc">Rating: Highest</option>
                    </select>
                </div>
                <div id="results-count">Showing 6 games</div>
            </div>

            <div class="games-grid" id="games-container">
                <!-- Game cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Confirmation Page -->
        <div class="confirmation-page" id="confirmation-page">
            <div class="confirmation-header">
                <i class="fas fa-check-circle"></i>
                <h2>Order Confirmed!</h2>
                <p>Thank you for your purchase. Your order has been received.</p>
            </div>

            <div class="confirmation-details">
                <div class="order-summary">
                    <h3>Order Summary</h3>
                    <div class="order-items" id="confirmation-items">
                        <!-- Order items will be inserted here -->
                    </div>
                    <div class="order-total">
                        <span>Total:</span>
                        <span id="confirmation-total">£0.00</span>
                    </div>
                </div>

                <div class="customer-info">
                    <h3>Customer Information</h3>
                    <div class="info-row">
                        <span class="info-label">Order Number:</span>
                        <span id="order-number">BDG-0001</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Date:</span>
                        <span id="order-date">May 8, 2023</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span id="customer-email">customer@example.com</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Payment Method:</span>
                        <span id="payment-method">Credit Card</span>
                    </div>
                </div>
            </div>

            <a href="#" class="back-to-shop" id="back-to-shop">
                <i class="fas fa-arrow-left"></i> Back to Shop
            </a>
        </div>
    </div>

    <!-- Cart Icon -->
    <div class="cart-icon" id="cart-icon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cart-count">0</span>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cart-overlay">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button class="close-cart" id="close-cart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be inserted here by JavaScript -->
            <div class="empty-cart">Your cart is empty</div>
        </div>
        <div class="cart-total">
            <span>Total:</span>
            <span id="cart-total">£0.00</span>
        </div>
        <button class="checkout-btn" id="checkout-btn">Proceed to Checkout</button>
    </div>

    <!-- Game Modal -->
    <div class="game-modal" id="game-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Game Title</h3>
                <button class="close-modal" id="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <img src="" alt="Game Image" class="modal-image" id="modal-image">
                <div class="modal-details">
                    <div class="modal-detail">
                        <h4>Price</h4>
                        <p id="modal-price">£0.00</p>
                    </div>
                    <div class="modal-detail">
                        <h4>Rating</h4>
                        <p id="modal-rating">★★★★★</p>
                    </div>
                    <div class="modal-detail">
                        <h4>Platform</h4>
                        <p id="modal-platform">PC, PlayStation, Xbox</p>
                    </div>
                    <div class="modal-detail">
                        <h4>Genre</h4>
                        <p id="modal-genre">Action, Adventure</p>
                    </div>
                </div>
                <div class="modal-description">
                    <h4>Description</h4>
                    <p id="modal-description">Game description goes here...</p>
                </div>
                <div class="modal-actions">
                    <button class="modal-add-to-cart" id="modal-add-to-cart">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                    <button class="modal-wishlist" id="modal-wishlist">
                        <i class="fas fa-heart"></i> Wishlist
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game data with Egyptian and international games
        const games = [
            {
                id: 1,
                title: "Space Wars: Egyptian Conflict",
                genre: ["Action", "Shooter"],
                platform: ["PC", "PlayStation", "Xbox"],
                price: 29.99,
                rating: 4,
                releaseDate: "2023-05-15",
                popularity: 8,
                origin: "Egypt",
                image: "https://img.freepik.com/free-photo/cartoon-soldier-with-combat-war_23-2151624806.jpg",
                description: "An Egyptian-developed space shooter with pyramids among the stars. Experience intense battles across the galaxy with ancient Egyptian themes woven throughout the storyline. Features include customizable ships with hieroglyphic designs and special power-ups based on Egyptian mythology."
            },
            {
                id: 2,
                title: "Return of the Cars",
                genre: ["Racing", "Adventure"],
                platform: ["PC", "PlayStation", "Xbox"],
                price: 39.99,
                rating: 4,
                releaseDate: "2022-11-20",
                popularity: 7,
                origin: "Egypt",
                image: "https://the1percentgame.com/wp-content/uploads/2017/12/nfs-2.jpg",
                description: "Race through Egyptian landscapes in this locally developed racing game. Drive through iconic locations like the pyramids of Giza, the Nile river banks, and modern Cairo streets. Features realistic physics and a career mode where you build your racing empire from the ground up."
            },
            {
                id: 3,
                title: "Cyberpunk 2077: Cairo Nights",
                genre: ["Action", "RPG"],
                platform: ["PC", "PlayStation", "Xbox"],
                price: 49.99,
                rating: 5,
                releaseDate: "2023-09-01",
                popularity: 9,
                origin: "International",
                image: "https://cairo.3anqod.com/wp-content/uploads/2021/04/cyberpunk-2077-1024x576.jpeg",
                description: "The acclaimed Cyberpunk game with an Egyptian expansion. Explore a futuristic Cairo with neon-lit mosques and cyber-enhanced pharaohs. This expansion adds 20+ hours of new content including Egyptian-themed cyberware and a gripping story about ancient secrets in a high-tech world."
            },
            {
                id: 4,
                title: "Lords of the Fallen: Pharaoh's Curse",
                genre: ["Action", "RPG"],
                platform: ["PC", "PlayStation", "Xbox"],
                price: 59.99,
                rating: 4,
                releaseDate: "2023-10-13",
                popularity: 8,
                origin: "International",
                image: "https://th.bing.com/th/id/OIP.LrQptspO5fFc8FDH4xun7AHaHY?w=1022&h=1018&rs=1&pid=ImgDetMain",
                description: "Dark fantasy action RPG with Egyptian mythology elements. Battle through cursed tombs and face gods-turned-monsters in this challenging souls-like game. Features an innovative curse system where your character gains both powers and drawbacks from ancient artifacts."
            },
            {
                id: 5,
                title: "GTA 5: Cairo Streets",
                genre: ["Action", "Shooter"],
                platform: ["PC", "PlayStation", "Xbox"],
                price: 29.99,
                rating: 5,
                releaseDate: "2022-03-15",
                popularity: 9,
                origin: "International",
                image: "https://wallpapers.com/images/hd/gta-5-main-trio-tt1qhsxwezgysz1t.jpg",
                description: "The classic GTA experience with an Egyptian twist. This special edition relocates the action to a fictionalized Cairo with authentic local voice acting and culturally relevant missions. Includes new vehicles like tuk-tuks and camel mounts, plus a soundtrack featuring popular Egyptian artists."
            },
            {
                id: 6,
                title: "Uncharted 4: Lost Tombs of Egypt",
                genre: ["Action", "Adventure"],
                platform: ["PlayStation"],
                price: 39.99,
                rating: 5,
                releaseDate: "2023-07-22",
                popularity: 9,
                origin: "International",
                image: "https://th.bing.com/th/id/R.9ba6f99ddbcd3b85e5541b7880aa9501?rik=qtfreXeJau6xIw&pid=ImgRaw&r=0",
                description: "Nathan Drake returns in this Egyptian adventure, exploring hidden tombs beneath the pyramids and solving ancient puzzles. This standalone expansion features the same cinematic storytelling and thrilling set pieces the series is known for, now with an Egyptian archaeological focus."
            }
        ];

        // DOM elements
        const storePage = document.getElementById('store-page');
        const confirmationPage = document.getElementById('confirmation-page');
        const gamesContainer = document.getElementById('games-container');
        const genreCheckboxes = document.querySelectorAll('input[name="genre"]');
        const platformCheckboxes = document.querySelectorAll('input[name="platform"]');
        const originCheckboxes = document.querySelectorAll('input[name="origin"]');
        const priceRange = document.getElementById('price-range');
        const sortBy = document.getElementById('sort-by');
        const resultsCount = document.getElementById('results-count');
        const searchInput = document.getElementById('search-input');
        
        // Cart elements
        const cartIcon = document.getElementById('cart-icon');
        const cartOverlay = document.getElementById('cart-overlay');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartCount = document.getElementById('cart-count');
        const cartTotal = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        
        // Confirmation elements
        const confirmationItems = document.getElementById('confirmation-items');
        const confirmationTotal = document.getElementById('confirmation-total');
        const orderNumber = document.getElementById('order-number');
        const orderDate = document.getElementById('order-date');
        const customerEmail = document.getElementById('customer-email');
        const paymentMethod = document.getElementById('payment-method');
        const backToShop = document.getElementById('back-to-shop');
        
        // Modal elements
        const gameModal = document.getElementById('game-modal');
        const closeModal = document.getElementById('close-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalImage = document.getElementById('modal-image');
        const modalPrice = document.getElementById('modal-price');
        const modalRating = document.getElementById('modal-rating');
        const modalPlatform = document.getElementById('modal-platform');
        const modalGenre = document.getElementById('modal-genre');
        const modalDescription = document.getElementById('modal-description');
        const modalAddToCart = document.getElementById('modal-add-to-cart');
        const modalWishlist = document.getElementById('modal-wishlist');

        // State
        let cart = [];
        let wishlist = [];
        let currentModalGame = null;

        // Initial render
        renderGames(games);

        // Event listeners
        genreCheckboxes.forEach(checkbox => checkbox.addEventListener('change', filterGames));
        platformCheckboxes.forEach(checkbox => checkbox.addEventListener('change', filterGames));
        originCheckboxes.forEach(checkbox => checkbox.addEventListener('change', filterGames));
        priceRange.addEventListener('input', filterGames);
        sortBy.addEventListener('change', filterGames);
        searchInput.addEventListener('input', filterGames);
        
        // Cart events
        cartIcon.addEventListener('click', toggleCart);
        closeCart.addEventListener('click', toggleCart);
        checkoutBtn.addEventListener('click', checkout);
        
        // Confirmation events
        backToShop.addEventListener('click', (e) => {
            e.preventDefault();
            showStorePage();
        });
        
        // Modal events
        closeModal.addEventListener('click', () => {
            gameModal.classList.remove('active');
        });

        // Page navigation functions
        function showConfirmationPage() {
            storePage.style.display = 'none';
            confirmationPage.classList.add('active');
            cartOverlay.classList.remove('active');
            cartIcon.style.display = 'none';
        }

        function showStorePage() {
            storePage.style.display = 'block';
            confirmationPage.classList.remove('active');
            cartIcon.style.display = 'flex';
        }

        // Filter and sort games
        function filterGames() {
            const selectedGenres = Array.from(genreCheckboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);
            
            const selectedPlatforms = Array.from(platformCheckboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);
            
            const selectedOrigins = Array.from(originCheckboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);
            
            const maxPrice = parseInt(priceRange.value);
            const searchTerm = searchInput.value.toLowerCase();
            
            // Filter games
            let filteredGames = games.filter(game => {
                // Genre filter
                const genreMatch = selectedGenres.length === 0 || 
                    game.genre.some(genre => selectedGenres.includes(genre));
                
                // Platform filter
                const platformMatch = selectedPlatforms.length === 0 || 
                    game.platform.some(platform => selectedPlatforms.includes(platform));
                
                // Origin filter
                const originMatch = selectedOrigins.length === 0 || 
                    selectedOrigins.includes(game.origin);
                
                // Price filter
                const priceMatch = game.price <= maxPrice;
                
                // Search filter
                const searchMatch = game.title.toLowerCase().includes(searchTerm) || 
                    game.description.toLowerCase().includes(searchTerm) ||
                    game.genre.some(g => g.toLowerCase().includes(searchTerm));
                
                return genreMatch && platformMatch && originMatch && priceMatch && searchMatch;
            });
            
            // Sort games
            const sortOption = sortBy.value;
            filteredGames.sort((a, b) => {
                switch (sortOption) {
                    case 'price-asc':
                        return a.price - b.price;
                    case 'price-desc':
                        return b.price - a.price;
                    case 'date-desc':
                        return new Date(b.releaseDate) - new Date(a.releaseDate);
                    case 'date-asc':
                        return new Date(a.releaseDate) - new Date(b.releaseDate);
                    case 'rating-desc':
                        return b.rating - a.rating;
                    default: // popularity
                        return b.popularity - a.popularity;
                }
            });
            
            // Update results count
            resultsCount.textContent = `Showing ${filteredGames.length} ${filteredGames.length === 1 ? 'game' : 'games'}`;
            
            // Render filtered games
            renderGames(filteredGames);
        }

        // Render games to the DOM
        function renderGames(gamesToRender) {
            gamesContainer.innerHTML = '';
            
            if (gamesToRender.length === 0) {
                gamesContainer.innerHTML = '<div class="no-results">No games match your filters. Try adjusting your criteria.</div>';
                return;
            }
            
            gamesToRender.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                
                // Create star rating string
                const stars = '★'.repeat(game.rating) + '☆'.repeat(5 - game.rating);
                
                gameCard.innerHTML = `
                    <img src="${game.image}" alt="${game.title}" class="game-image">
                    ${game.origin === "Egypt" ? '<span class="egyptian-tag">Bangladeshi</span>' : ''}
                    <button class="wishlist-btn ${wishlist.includes(game.id) ? 'active' : ''}" data-id="${game.id}">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="game-info">
                        <h3 class="game-title">${game.title}</h3>
                        <div class="game-details">
                            <span class="game-platform">${game.platform[0]}${game.platform.length > 1 ? '+' : ''}</span>
                            <span class="game-price">${game.price === 0 ? 'Free' : '£' + game.price.toFixed(2)}</span>
                        </div>
                        <div class="game-rating" title="${game.rating} out of 5 stars">${stars}</div>
                        <div class="game-genre">${game.genre.join(' • ')}</div>
                        <button class="cart-btn" data-id="${game.id}">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                `;
                
                // Add click event to open modal
                gameCard.addEventListener('click', (e) => {
                    // Don't open modal if clicking on buttons
                    if (!e.target.closest('.cart-btn') && !e.target.closest('.wishlist-btn')) {
                        openGameModal(game);
                    }
                });
                
                gamesContainer.appendChild(gameCard);
            });
            
            // Add event listeners to all cart buttons
            document.querySelectorAll('.cart-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const gameId = parseInt(btn.getAttribute('data-id'));
                    addToCart(gameId);
                });
            });
            
            // Add event listeners to all wishlist buttons
            document.querySelectorAll('.wishlist-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const gameId = parseInt(btn.getAttribute('data-id'));
                    toggleWishlist(gameId);
                });
            });
        }

        // Cart functions
        function toggleCart() {
            cartOverlay.classList.toggle('active');
            updateCartDisplay();
        }

        function addToCart(gameId) {
            const game = games.find(g => g.id === gameId);
            if (!game) return;
            
            const existingItem = cart.find(item => item.id === gameId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: game.id,
                    title: game.title,
                    price: game.price,
                    image: game.image,
                    quantity: 1
                });
            }
            
            updateCartCount();
            showCartNotification(game.title);
        }

        function removeFromCart(gameId) {
            cart = cart.filter(item => item.id !== gameId);
            updateCartDisplay();
            updateCartCount();
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        function updateCartDisplay() {
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                cartTotal.textContent = '£0.00';
                return;
            }
            
            let itemsHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
                itemsHTML += `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.title}" class="cart-item-img">
                        <div class="cart-item-details">
                            <div class="cart-item-title">${item.title}</div>
                            <div class="cart-item-price">£${(item.price * item.quantity).toFixed(2)} (${item.quantity} x £${item.price.toFixed(2)})</div>
                        </div>
                        <button class="remove-item" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            cartTotal.textContent = `£${total.toFixed(2)}`;
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const gameId = parseInt(btn.getAttribute('data-id'));
                    removeFromCart(gameId);
                });
            });
        }

        function showCartNotification(gameTitle) {
            const notification = document.createElement('div');
            notification.className = 'cart-notification';
            notification.innerHTML = `
                <span>${gameTitle} added to cart!</span>
            `;
            
            // Style the notification
            notification.style.position = 'fixed';
            notification.style.bottom = '20px';
            notification.style.right = '20px';
            notification.style.backgroundColor = 'var(--success-color)';
            notification.style.color = 'white';
            notification.style.padding = '10px 20px';
            notification.style.borderRadius = '4px';
            notification.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
            notification.style.zIndex = '1001';
            notification.style.animation = 'fadeIn 0.3s';
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
            
            // Add keyframes for animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes fadeOut {
                    from { opacity: 1; transform: translateY(0); }
                    to { opacity: 0; transform: translateY(20px); }
                }
            `;
            document.head.appendChild(style);
        }

        function checkout() {
            if (cart.length === 0) return;
            
            // Update confirmation page with order details
            updateConfirmationPage();
            
            // Show confirmation page
            showConfirmationPage();
        }

        function updateConfirmationPage() {
            // Clear previous items
            confirmationItems.innerHTML = '';
            
            let total = 0;
            
            // Add items to confirmation page
            cart.forEach(item => {
                total += item.price * item.quantity;
                const itemElement = document.createElement('div');
                itemElement.className = 'order-item';
                itemElement.innerHTML = `
                    <span>${item.title} (${item.quantity})</span>
                    <span>£${(item.price * item.quantity).toFixed(2)}</span>
                `;
                confirmationItems.appendChild(itemElement);
            });
            
            // Update total
            confirmationTotal.textContent = `£${total.toFixed(2)}`;
            
            // Generate random order number
            const randomNum = Math.floor(Math.random() * 9000) + 1000;
            orderNumber.textContent = `BDG-${randomNum}`;
            
            // Set current date
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            orderDate.textContent = today.toLocaleDateString('en-US', options);
            
            // Set customer email (in a real app, this would come from user input)
            customerEmail.textContent = 'customer@example.com';
            
            // Set payment method (in a real app, this would come from user input)
            paymentMethod.textContent = 'Credit Card';
            
            // Clear the cart
            cart = [];
            updateCartCount();
            updateCartDisplay();
        }

        // Wishlist functions
        function toggleWishlist(gameId) {
            const index = wishlist.indexOf(gameId);
            
            if (index === -1) {
                wishlist.push(gameId);
            } else {
                wishlist.splice(index, 1);
            }
            
            // Update the wishlist button
            const btn = document.querySelector(`.wishlist-btn[data-id="${gameId}"]`);
            if (btn) {
                btn.classList.toggle('active');
            }
            
            // If the modal is open for this game, update its wishlist button
            if (currentModalGame && currentModalGame.id === gameId) {
                modalWishlist.classList.toggle('active');
            }
        }

        // Modal functions
        function openGameModal(game) {
            currentModalGame = game;
            
            // Set modal content
            modalTitle.textContent = game.title;
            modalImage.src = game.image;
            modalPrice.textContent = `£${game.price.toFixed(2)}`;
            modalRating.textContent = '★'.repeat(game.rating) + '☆'.repeat(5 - game.rating);
            modalPlatform.textContent = game.platform.join(', ');
            modalGenre.textContent = game.genre.join(', ');
            modalDescription.textContent = game.description;
            
            // Set wishlist button state
            modalWishlist.classList.toggle('active', wishlist.includes(game.id));
            
            // Update add to cart button
            modalAddToCart.setAttribute('data-id', game.id);
            
            // Show modal
            gameModal.classList.add('active');
        }

        // Modal button events
        modalAddToCart.addEventListener('click', (e) => {
            const gameId = parseInt(e.target.getAttribute('data-id'));
            addToCart(gameId);
        });

        modalWishlist.addEventListener('click', () => {
            if (currentModalGame) {
                toggleWishlist(currentModalGame.id);
            }
        });
    </script>
</body>
</html>